import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';
import {COURSE_STATUS, CoursesList} from "../../models/course.model";
import {CoursePageComponent} from "../../pages/course-page/course-page.component";
import {Router} from "@angular/router";
import jsPDF, {CellConfig} from 'jspdf';
import html2canvas from 'html2canvas';
import {getLocaleDateTimeFormat} from "@angular/common";

@Component({
  selector: 'app-course-list',
  templateUrl: './subject-list.component.html',
  styleUrls: ['./subject-list.component.scss']
})

export class SubjectListComponent implements OnInit{

  constructor(public componentOne: CoursePageComponent, private router: Router){
  };

  ngOnInit(){
    this.courses.map(((item, index)=> {
      this.courses.push(Object.assign({},item,{select: false}))
    }))
  }

  sortByNameVisible: boolean = false
  sortByTeacherVisible: boolean = false
  sortByDateVisible: boolean = false
  sortByNameType: string = ''
  sortByTeacherType: string = ''
  sortByDateType: string = ''
  reset = false
  pageSize = 16
  page = 1
  list = []
  deletedList = []
  lockedList = []
  exportedCourses = []
  notificationRemoving = false
  column1 = true
  parentSelector: boolean = false

  @Input()
  searchString;

  @Input()
  courses: CoursesList[] = [];

  @Output()
  lockCourse: EventEmitter<number> = new EventEmitter<number>();

  @Output()
  openSettings: EventEmitter<any> = new EventEmitter<any>();

  @Output()
  closeSettings: EventEmitter<any> = new EventEmitter<any>();

  @Output()
  removeCourse: EventEmitter<number> = new EventEmitter<number>();

  public countOfPages(): number{
    return Math.ceil(this.courses.length / this.pageSize);
  }

  public courseWordFormatter(): string{
    if(this.deletedList?.length==1){
      return "course";
    }else return "courses";
  }

  private static _createHeadersForPdfTable(keys: string[]) {
    const result: CellConfig[] = [];
    for (let i = 0; i < keys.length; i += 1) {
      result.push({
        name: keys[i],
        prompt: keys[i],
        width: 42,
        align: 'center',
        padding: 8
      });
    }
    return result;
  }

  private _getDataForPdfTable() {
    const data = [];
    this.exportedCourses = this.courses.filter(function(course) {
      return course.select == true;
    });
    for (let i = 0; i < this.exportedCourses.length; i++) {
      data.push({
        Title: this.exportedCourses[i].name,
        First: this.exportedCourses[i].teacherFirstName,
        Last: this.exportedCourses[i].teacherLastName,
        Creation: this.exportedCourses[i].creationDate,
        Hours: this.exportedCourses[i].hours.toString(),
        Credits: this.exportedCourses[i].credit.toString(),
      });
    }
    return data;
  }

  public openPDF(): void {
    const fileName = 'ExportedCourses';
    const doc = new jsPDF();
    const date = new Date();
    const currDate = "Date Exported: "+date.getDate()+". "+(date.getMonth()+1)+". "+date.getFullYear()+" ";
    const imgData = 'data:image/png;base64,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';
    doc.setFontSize(20);
    doc.setFont('helvetica', 'bold');
    doc.text('Exported courses', 30, 20);
    doc.setFont('helvetica', 'normal');
    doc.addImage(imgData,'png',10,8,16,18); //20 22
    doc.setFontSize(8);
    doc.setFont('helvetica','normal');
    doc.text(currDate, 170, 20);
    doc.setFontSize(12);
    doc.table(10, 35, this._getDataForPdfTable(), SubjectListComponent._createHeadersForPdfTable([
      'Title', 'First', 'Last', 'Creation', 'Hours', 'Credits'
    ]), { autoSize: false });
    doc.save(fileName);
  }

  public deleteCourses(){
    this.deletedList = this.courses.filter(function(course) {
        return course.select == true && course.subscribedStudents.length == 0;
    });
    for(const c of this.deletedList){
      this.removeCourse.emit(c.id);
    }
    this.uncheck();
  }

  public lockCourses(){
    this.lockedList = this.courses.filter(function(course) {
      return course.select == true;
    });
    for(const c of this.lockedList){
      this.lockCourse.emit(c.id);
    }
  }


  public badge(status: COURSE_STATUS){
    if(status == COURSE_STATUS.APPROVED){
      return 'badge-approve'
    }
    if(status == COURSE_STATUS.REFUSED){
      return 'badge-refuse'
    }
    if(status == COURSE_STATUS.CANCELLED){
      return 'badge-cancel'
    }
  }

  public hideColumn1(){
    this.column1 = !this.column1;
  }

  resetSorts(): void{
    this.sortByNameType = this.sortByTeacherType = this.sortByDateType = '';
  }

  public sortByNameAsc(): void{
    this.resetSorts();
    this.sortByNameVisible = false;
    this.sortByNameType = 'asc';
    this.courses.sort(function(a,b){
      return a.name.localeCompare(b.name);
    })
  }
  public sortByNameDesc(): void{
    this.resetSorts();
    this.sortByNameVisible = false;
    this.sortByNameType = 'desc';
    this.courses.sort(function(a,b){
      return b.name.localeCompare(a.name);
    })
  }

  public sortByTeacherAsc(): void{
    this.resetSorts();
    this.sortByTeacherVisible = false;
    this.sortByTeacherType = 'asc';
    this.courses.sort(function(a,b){
      return a.teacherLastName.localeCompare(b.teacherLastName);
    })
  }
  public sortByTeacherDesc(): void{
    this.resetSorts();
    this.sortByTeacherVisible = false;
    this.sortByTeacherType = 'desc';
    this.courses.sort(function(a,b){
      return b.teacherLastName.localeCompare(a.teacherLastName);
    })
  }
  public sortByDateAsc(): void {
    this.resetSorts();
    this.sortByDateVisible = false;
    this.sortByDateType = 'asc';
    this.courses.sort((a, b) => {
      return Date.parse(a.creationDate) - Date.parse(b.creationDate);
    })
  }
  public sortByDateDesc(): void {
    this.resetSorts();
    this.sortByDateVisible = false;
    this.sortByDateType = 'desc';
    this.courses.sort((a, b) => {
      return Date.parse(b.creationDate) - Date.parse(a.creationDate);
    })
  }

  public showNameSorting(): void{
    this.sortByNameVisible = !this.sortByNameVisible;
  }

  public showTeacherSorting(): void{
    this.sortByTeacherVisible = !this.sortByTeacherVisible;
  }

  public showDateSorting(): void{
    this.sortByDateVisible = !this.sortByDateVisible;
  }

  capitalString(str: string){
    if(str != null){
      return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
    }
  }

  openDetailsOfSubject(id: number){
    this.router.navigate(['/courses/'+id]);
  }

  showRemovingNotification(){
    this.notificationRemoving = true;
    setTimeout(()=>{
      this.notificationRemoving = false;
    }, 2000)
  }


  public uncheck(){
    for(const c of this.courses){
      c.select = false;
    }
    this.parentSelector = false;
  }

  onChange($event){
    const id = $event.target.value;
    const isChecked = $event.target.checked;
    this.openSettings.emit();
    this.courses = this.courses.map((d) => {
      if(d.id == id){
        d.select = isChecked;
        this.parentSelector = false;
        return d;
      }
      if(id == -1){
        d.select = this.parentSelector;
        return d;
      }
      return d;
    });
    if(this.courses.every(course => course.select == false || course.select == undefined)){
      this.closeSettings.emit();
    }
  }
}

